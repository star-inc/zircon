# Copyright 2019 The Fuchsia Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

import("$zx_build/public/gn/config/standard.gni")
import("$zx_build/public/gn/zbi.gni")

assert(current_toolchain != default_toolchain)
assert(current_cpu != "")

# TODO(BLD-353): This is all temporary hacks for integrating with
# the legacy Fuchsia GN build.  This file should not exist at all.

group("ulib") {
  testonly = true
  deps = [
#------------------
    "$zx/kernel/lib/cmdline",
#------------------
#------------------
    "$zx/kernel/lib/counters",
#------------------
#------------------
    "$zx/kernel/lib/arch",
    "$zx/kernel/lib/arch/$zircon_cpu",
#------------------
#------------------
#------------------
    "$zx/system/dev/lib/mmio-ptr",
    "$zx/system/dev/lib/mmio-ptr:mmio-ptr-fake",
#------------------
#------------------
#------------------
    "$zx/system/dev/lib/uart",
#------------------
#------------------
    "$zx/system/dev/lib/uart:uart-mock",
#------------------
#------------------
    "$zx/third_party/ulib",
#------------------
#------------------
#------------------
#------------------
    "affine",
#------------------
#------------------
    "async",
#------------------
#------------------
    "async:async-cpp",
#------------------
#------------------
    "async:async-default",
#------------------
#------------------
    "async-loop",
#------------------
#------------------
    "async-loop:async-loop-cpp",
#------------------
#------------------
    "async-loop:async-loop-default",
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
    "backtrace-request",
#------------------
#------------------
    "backtrace-request:backtrace-request-utils",
#------------------
#------------------
    "bitmap",
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
    "c",
#------------------
#------------------
    "c:crt1",
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
    "cmdline",
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
    "ddk-platform-defs",
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
    "digest",
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
    "elf-psabi",
#------------------
#------------------
    "elf-search",
#------------------
#------------------
    "elfload",
#------------------
#------------------
    "explicit-memory",
#------------------
#------------------
    "fbl",
#------------------
#------------------
    "fdio",
#------------------
#------------------
#------------------
#------------------
    "ffl",
#------------------
#------------------
    "fidl",
#------------------
#------------------
    "fidl:fidl-llcpp",
#------------------
#------------------
    "fidl:fidl_base",
#------------------
#------------------
    "fidl-async",
#------------------
#------------------
    "fidl-async:fidl-async-cpp",
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
    "fit",
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
    "fzl",
#------------------
#------------------
    "gfx",
#------------------
#------------------
    "gfx-font-data",
#------------------
#------------------
#------------------
#------------------
    "hermetic-compute",
#------------------
#------------------
    "hermetic-decompressor",
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
    "hwreg",
#------------------
#------------------
#------------------
#------------------
    "hwreg:hwreg-mock",
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
    "lazy_init",
#------------------
#------------------
    "ldmsg",
#------------------
#------------------
#------------------
#------------------
    "libzbi",
#------------------
#------------------
#------------------
#------------------
    "lockdep",
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
    "mbr",
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
    "mini-process",
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
    "mock-function",
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
    "pretty",
#------------------
#------------------
#------------------
#------------------
    "ram-crashlog",
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
    "range",
#------------------
#------------------
#------------------
#------------------
    "region-alloc",
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
    "runtime",
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
    "smbios",
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
    "sync",
#------------------
#------------------
    "syscalls-headers",
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
    "test-utils",
#------------------
#------------------
    "tftp",
#------------------
#------------------
#------------------
#------------------
    "trace",
#------------------
#------------------
    "trace:trace-driver",
#------------------
#------------------
    "trace:trace-with-static-engine",
#------------------
#------------------
    "trace-engine",
#------------------
#------------------
    "trace-engine:trace-engine-driver",
#------------------
#------------------
    "trace-engine:trace-engine-headers-for-reader",
#------------------
#------------------
    "trace-engine:trace-engine-static",
#------------------
#------------------
    "trace-provider",
#------------------
#------------------
    "trace-provider:trace-handler",
#------------------
#------------------
    "trace-provider:trace-provider-driver",
#------------------
#------------------
    "trace-provider:trace-provider-fdio-connect",
#------------------
#------------------
    "trace-provider:trace-provider-so",
#------------------
#------------------
    "trace-provider:trace-provider-with-fdio",
#------------------
#------------------
    "trace-provider:trace-provider-with-static-engine",
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
    "unittest",
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
    "vdso-code-header",
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
    "zircon",
#------------------
#------------------
    "zircon:zircon-headers",
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
    "zircon-internal",
#------------------
#------------------
    "zx",
#------------------
#------------------
    "zx-panic-libc",
#------------------
#------------------
    "zxc",
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
    "zxio",
#------------------
#------------------
    "zxtest",
#------------------
  ]
}

group("ulib-host") {
  testonly = true
  deps = [
#------------------
    "$zx/kernel/lib/arch",
    "$zx/kernel/lib/arch/$zircon_cpu",
#------------------
#------------------
    "$zx/system/dev/lib/uart",
#------------------
#------------------
    "$zx/system/dev/lib/uart:uart-mock",
#------------------
#------------------
    "$zx/kernel/lib/heap/cmpctmalloc",
#------------------
    "$zx/third_party/ulib/cksum",
#------------------
#------------------
    "$zx/third_party/ulib/lz4",
#------------------
#------------------
    "$zx/third_party/ulib/safemath",
#------------------
#------------------
    "$zx/third_party/ulib/boringssl",
#------------------
#------------------
    "$zx/third_party/ulib/zstd",
#------------------
#------------------
    "$zx/third_party/ulib/zstd:zstdseek",
#------------------
#------------------
    "backtrace-request",
#------------------
#------------------
    "bitmap",
#------------------
#------------------
#------------------
#------------------
    "cmdline",
#------------------
#------------------
    "digest",
#------------------
#------------------
#------------------
#------------------
    "fbl",
#------------------
#------------------
    "fdio",
#------------------
#------------------
    "ffl",
#------------------
#------------------
    "fidl:fidl_base",
#------------------
#------------------
    "fit",
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
    "hwreg",
#------------------
#------------------
    "hwreg:hwreg-mock",
#------------------
#------------------
    "libzbi",
#------------------
#------------------
#------------------
#------------------
    "mock-function",
#------------------
#------------------
    "pretty",
#------------------
#------------------
    "range",
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
    "tftp",
#------------------
#------------------
    "trace-engine:trace-engine-headers-for-reader",
#------------------
#------------------
#------------------
#------------------
    "unittest:unittest-static",
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
    "zircon:zircon-headers",
#------------------
#------------------
    "zircon-internal",
#------------------
#------------------
    "zx-panic-libc",
#------------------
#------------------
    "zxc",
#------------------
#------------------
    "zxtest",
#------------------
  ]
  if (current_os == "linux") {
    deps += [
#------------------
      "$zx/third_party/ulib/usbhost:usbhost-static",
#------------------
#------------------
#------------------
#------------------
#------------------
#------------------
      "unittest:unittest-static",
#------------------
    ]
  }
}
